{% extends "base.html" %}
{% from "privacy/sections.html" import intro, quem_somos, dados_pessoais %}

{% block title %}Política de Privacidade{% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/privacy.css') }}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="privacy-hero">
    <div class="hero-pattern"></div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <span class="badge bg-primary mb-3">Atualizado em Janeiro 2024</span>
                <h1 class="display-4 fw-bold mb-3">Sua Privacidade é Nossa Prioridade</h1>
                <p class="lead mb-4">Entenda como protegemos seus dados e respeitamos sua privacidade</p>
                <div class="d-flex gap-3">
                    <button class="btn btn-light" onclick="document.querySelector('.privacy-nav').scrollIntoView({behavior: 'smooth'})">
                        <i class="fas fa-book-open me-2"></i>Começar a Ler
                    </button>
                    <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#privacyVideo">
                        <i class="fas fa-play me-2"></i>Ver Vídeo Explicativo
                    </button>
                </div>
            </div>
            <div class="col-lg-4 text-center d-none d-lg-block">
                <img src="{{ url_for('static', filename='img/privacy-shield.svg') }}" alt="Privacidade" class="img-fluid">
            </div>
        </div>
    </div>
</div>

<!-- Navegação Rápida -->
<div class="container mt-4">
    <div class="quick-nav-pills mb-5">
        <div class="d-flex justify-content-center flex-wrap gap-2">
            <a href="#dados" class="btn btn-outline-primary rounded-pill">
                <i class="fas fa-database me-2"></i>Dados Coletados
            </a>
            <a href="#direitos" class="btn btn-outline-primary rounded-pill">
                <i class="fas fa-user-shield me-2"></i>Seus Direitos
            </a>
            <a href="#seguranca" class="btn btn-outline-primary rounded-pill">
                <i class="fas fa-lock me-2"></i>Segurança
            </a>
            <a href="#cookies" class="btn btn-outline-primary rounded-pill">
                <i class="fas fa-cookie-bite me-2"></i>Cookies
            </a>
        </div>
    </div>
</div>

<!-- Conteúdo Principal -->
<div class="container">
    <div class="row">
        <!-- Menu Lateral -->
        <div class="col-lg-3">
            <nav class="privacy-nav sticky-lg-top" style="top: 2rem;">
                <div class="nav-sections mb-4">
                    <div class="nav-section">
                        <h6 class="nav-section-title">Introdução</h6>
                        <div class="list-group list-group-flush">
                            <a href="#quem-somos" class="list-group-item">1. Quem Somos</a>
                            <a href="#dados" class="list-group-item">2. Dados Pessoais</a>
                            <a href="#coleta" class="list-group-item">3. Como Coletamos</a>
                        </div>
                    </div>
                    
                    <div class="nav-section">
                        <h6 class="nav-section-title">Uso de Dados</h6>
                        <div class="list-group list-group-flush">
                            <a href="#uso" class="list-group-item">4. Como Usamos</a>
                            <a href="#cookies" class="list-group-item">5. Cookies e Logs</a>
                            <a href="#menores" class="list-group-item">6. Dados de Menores</a>
                        </div>
                    </div>
                    
                    <div class="nav-section">
                        <h6 class="nav-section-title">Seus Direitos</h6>
                        <div class="list-group list-group-flush">
                            <a href="#direitos" class="list-group-item">7. Seus Direitos</a>
                            <a href="#seguranca" class="list-group-item">8. Segurança</a>
                            <a href="#contato" class="list-group-item">9. Contato</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <!-- Conteúdo -->
        <div class="col-lg-9">
            <div class="privacy-content">
                <!-- Introdução -->
                <section id="intro" class="content-section">
                    {{ intro() }}
                </section>

                <!-- Quem Somos -->
                <section id="quem-somos" class="content-section">
                    <div class="section-header">
                        <span class="section-number">01</span>
                        <h2>Quem Somos</h2>
                    </div>
                    {{ quem_somos() }}
                </section>

                <!-- Dados Pessoais -->
                <section id="dados" class="content-section">
                    <div class="section-header">
                        <span class="section-number">02</span>
                        <h2>Dados Pessoais que Coletamos</h2>
                    </div>
                    {{ dados_pessoais() }}
                </section>

                <!-- Continue com outras seções... -->
            </div>
        </div>
    </div>
</div>

<!-- Modal de Vídeo -->
<div class="modal fade" id="privacyVideo">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body p-0">
                <button class="btn-close position-absolute end-0 top-0 m-3" data-bs-dismiss="modal"></button>
                <div class="ratio ratio-16x9">
                    <iframe src="https://www.youtube.com/embed/privacy-video-id" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    AOS.init({
        duration: 800,
        offset: 100,
        once: true
    });
    
    // Smooth scroll
    document.querySelectorAll('.privacy-nav a').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        });
    });

    // Active section highlighting
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                document.querySelectorAll('.privacy-nav a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { threshold: 0.5 });

    document.querySelectorAll('section').forEach(section => observer.observe(section));

    // Animação de entrada para ícones
    const iconObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate__animated', 'animate__fadeIn');
            }
        });
    });

    document.querySelectorAll('.section-icon').forEach(icon => {
        iconObserver.observe(icon);
    });
});
</script>
{% endblock %}